(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),s=n.n(c),u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,167)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},i=n(145),o=n(147),j=n(148),l=n(149),b=n(41),p=n(161),d=Object(p.a)((function(e){return{appbar:{background:"gray",marginBottom:25}}})),x=n(2),f=function(){var e=d();return Object(x.jsx)(i.a,{position:"static",className:e.appbar,children:Object(x.jsx)(o.a,{variant:"dense",children:Object(x.jsxs)(j.a,{container:!0,justifyContent:"space-between",children:[Object(x.jsx)(j.a,{item:!0,children:Object(x.jsx)(l.a,{variant:"text",color:"inherit",component:b.b,to:"/",children:"Virtual Vending Machine"})}),Object(x.jsx)(j.a,{item:!0,children:Object(x.jsx)(l.a,{color:"inherit",variant:"outlined",component:b.b,to:"/admin",children:"Admin Dashboard"})})]})})})},h=n(15),O=n(7),v=n.n(O),m=n(11),g=n(14),k=n(153),y=n(154),w=n(150),C=n(162),S=n(151),_=n(152),F=n(163),D=Object(p.a)((function(e){return{card:{maxWidth:"100%",background:"#F5F5F5"}}})),W=function(e){var t=e.soda,a=D(),c=Object(r.useState)(),s=Object(g.a)(c,2),u=s[0],i=s[1],o=function(){var e=Object(m.a)(v.a.mark((function e(){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(92)("./".concat(t.product_id,".png"));case 2:r=e.sent,i(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){o()}),[]),u?Object(x.jsxs)(w.a,{className:a.card,children:[Object(x.jsx)(C.a,{display:"flex",justifyContent:"center",mt:2,children:Object(x.jsx)("img",{src:u.default,title:t.description})}),Object(x.jsxs)(S.a,{children:[Object(x.jsx)(C.a,{justifyContent:"center",display:"flex",children:Object(x.jsx)(_.a,{variant:"subtitle1",children:Object(x.jsx)("b",{children:t.product_name})})}),Object(x.jsxs)(C.a,{display:"flex",justifyContent:"space-between",children:[Object(x.jsx)(_.a,{variant:"caption",children:Object(x.jsxs)("b",{children:["Slot #",t.id]})}),Object(x.jsx)(F.a,{label:"$"+t.cost,size:"small"})]})]})]}):Object(x.jsx)("div",{})},N=function(e){var t=e.sodas;return Object(x.jsx)(j.a,{container:!0,spacing:1,children:t.map((function(e){return Object(x.jsx)(j.a,{item:!0,xs:6,children:Object(x.jsx)(W,{soda:e})},e.product_id)}))})},T=function(e){var t=e.message,n=e.balance,r=void 0===n?0:n;return Object(x.jsxs)(C.a,{height:"50%",bgcolor:"lightgray",justifyContent:"center",display:"flex",flexDirection:"column",children:[Object(x.jsx)(C.a,{display:"flex",justifyContent:"center",mb:2,children:Object(x.jsxs)(_.a,{variant:"caption",children:["Balance: $",r.toFixed(2)]})}),Object(x.jsx)(C.a,{display:"flex",justifyContent:"center",children:Object(x.jsx)(_.a,{variant:"caption",children:t})})]})},E=function(e){var t=e.sodas,n=e.handleCheckout;return Object(x.jsx)(j.a,{container:!0,spacing:1,style:{marginTop:5},children:t.map((function(e){return Object(x.jsx)(j.a,{item:!0,xs:6,children:Object(x.jsx)(l.a,{variant:"outlined",fullWidth:!0,onClick:Object(m.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e.id);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),children:e.id},"button_id_"+e.id)},"grid_xs6_id_"+e.id)}))})},I=n(160),B=n(164),L=function(e){var t=e.handleCoinSelect,n=e.coin,r=e.handleDeposit;return Object(x.jsxs)(C.a,{display:"flex",justifyContent:"space-between",mt:2,mx:1,children:[Object(x.jsxs)(I.a,{select:!0,id:"select-coin-to-insert",label:"Select Coin",style:{minWidth:100,width:"50%"},value:n,onChange:t,children:[Object(x.jsx)(B.a,{value:.25,children:"$0.25"},"0.25"),Object(x.jsx)(B.a,{value:.5,children:"$0.50"},"0.50"),Object(x.jsx)(B.a,{value:.75,children:"$0.75"},"0.75"),Object(x.jsx)(B.a,{value:1,children:"$1.00"},"1.00")]}),Object(x.jsx)(l.a,{variant:"outlined",onClick:Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Deposit"})]})},$=n(29),A=n.n($),P=n(68),z=n.n(P),U="http://localhost:3001/api",V=function(){var e=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get(U+"/products");case 3:if((t=e.sent)&&200===t.status){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",t.data);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(U+"/product/checkout/"+t);case 3:if(200===(n=e.sent).status){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,n.blob();case 8:return r=e.sent,z()(r,"checkout.json"),e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get(U+"/session/balance");case 3:if((t=e.sent)&&200===t.status){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",t.data);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(m.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put(U+"/session/balance/"+t);case 3:if((n=e.sent)&&200===n.status){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post(U+"/session/auth/"+t);case 3:if(200===e.sent.status){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get(U+"/session/auth");case 3:if((t=e.sent)&&200===t.status){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put(U+"/product/restock/"+t+"/"+n);case 3:if((r=e.sent)&&200===r.status){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.put(U+"/product/price/"+t+"/"+n);case 3:if((r=e.sent)&&200===r.status){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(r.useState)(),t=Object(g.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(0),s=Object(g.a)(c,2),u=s[0],i=s[1],o=Object(r.useState)(0),l=Object(g.a)(o,2),b=l[0],p=l[1],d=Object(r.useState)(""),f=Object(g.a)(d,2),h=f[0],O=f[1],C=function(){var e=Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=3;break}return O("Please insert a valid coin to deposit!"),e.abrupt("return");case 3:return i(u+b),e.next=6,M(u+b);case 6:O("");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(v.a.mark((function e(t){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(""),r=n.filter((function(e){return e.id===t}))[0],!(u<r.cost)){e.next=5;break}return O("Insufficient Balance! Insert $".concat((r.cost-u).toFixed(2)," more!")),e.abrupt("return");case 5:return e.next=7,q(r.product_id);case 7:if(e.sent){e.next=12;break}O("SOLD OUT!"),e.next=16;break;case 12:return O("Vending ".concat(r.product_name)),i(u-r.cost),e.next=16,M(u-r.cost);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(m.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return t=e.sent,a(t),e.next=6,J();case 6:n=e.sent,i(Number(n));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){_()}),[]),n?Object(x.jsx)(k.a,{maxWidth:"md",children:Object(x.jsxs)(j.a,{container:!0,spacing:1,children:[Object(x.jsx)(j.a,{item:!0,xs:8,children:Object(x.jsx)(N,{sodas:n})}),Object(x.jsx)(j.a,{item:!0,xs:4,children:Object(x.jsxs)(w.a,{style:{height:"100%"},children:[Object(x.jsx)(T,{balance:u,message:h}),Object(x.jsx)(E,{sodas:n,handleCheckout:S}),Object(x.jsx)(L,{handleCoinSelect:function(e){var t=Number(e.target.value);p(t),(!t||t<0)&&O("Please select a valid coin!")},coin:b,handleDeposit:C})]})})]})}):Object(x.jsx)(k.a,{maxWidth:"xs",style:{textAlign:"center"},children:Object(x.jsx)(y.a,{})})},X=function(e){var t=e.token,n=e.message,r=e.handleTokenChange,a=e.handleLogin;return Object(x.jsx)(k.a,{maxWidth:"sm",children:Object(x.jsxs)(j.a,{container:!0,justifyContent:"center",spacing:1,children:[Object(x.jsx)(j.a,{item:!0,xs:12,children:Object(x.jsx)(_.a,{variant:"h6",gutterBottom:!0,children:"Enter Admin Auth Token"})}),Object(x.jsx)(j.a,{item:!0,xs:12,children:n&&Object(x.jsx)(_.a,{variant:"caption",color:"error",gutterBottom:!0,children:n})}),Object(x.jsx)(j.a,{item:!0,xs:6,children:Object(x.jsx)(I.a,{variant:"outlined",size:"small",value:t,onChange:r})}),Object(x.jsx)(j.a,{item:!0,xs:6,children:Object(x.jsx)(l.a,{variant:"contained",onClick:Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:"Login"})})]})})},Y=n(19),Z=n(155),ee=n(156),te=n(157),ne=n(158),re=n(159),ae=function(){var e=Object(r.useState)(),t=Object(g.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(0),s=Object(g.a)(c,2),u=s[0],i=s[1],o=Object(r.useState)(0),j=Object(g.a)(o,2),b=j[0],p=j[1],d=Object(r.useState)(0),f=Object(g.a)(d,2),h=f[0],O=f[1],w=Object(r.useState)("0.0"),S=Object(g.a)(w,2),_=S[0],F=S[1],D=function(){var e=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){D()}),[]);var W=function(){var e=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u<0)&&h){e.next=2;break}return e.abrupt("return");case 2:G(n[u].product_id,h)&&((t=Object(Y.a)(n))[u].quantity+=h,a(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(b<0||parseFloat(_)<=0)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,H(n[b].product_id,parseFloat(_));case 4:e.sent&&((t=Object(Y.a)(n))[b].cost=_,a(t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(x.jsxs)(k.a,{maxWidth:"sm",children:[Object(x.jsxs)(Z.a,{children:[Object(x.jsx)(ee.a,{children:Object(x.jsxs)(te.a,{children:[Object(x.jsx)(ne.a,{children:"ID"}),Object(x.jsx)(ne.a,{children:"Soda Name"}),Object(x.jsx)(ne.a,{children:"Quantity"}),Object(x.jsx)(ne.a,{children:"Cost"})]})}),Object(x.jsx)(re.a,{children:n.map((function(e){return Object(x.jsxs)(te.a,{children:[Object(x.jsx)(ne.a,{children:e.id},"1-"+e.id),Object(x.jsx)(ne.a,{children:e.product_name},"2-"+e.id),Object(x.jsx)(ne.a,{children:e.quantity},"3-"+e.id),Object(x.jsx)(ne.a,{children:e.cost},"4-"+e.id)]},e.id)}))})]}),Object(x.jsxs)(C.a,{display:"flex",justifyContent:"space-between",mt:5,children:[Object(x.jsx)(I.a,{variant:"outlined",style:{maxWidth:50},label:"ID",onChange:function(e){i(Number(e.target.value))},value:u}),Object(x.jsx)(I.a,{variant:"outlined",style:{maxWidth:100},label:"Quantity",onChange:function(e){O(Number(e.target.value))},value:h}),Object(x.jsx)(l.a,{variant:"outlined",onClick:W,children:"Restock"})]}),Object(x.jsxs)(C.a,{display:"flex",justifyContent:"space-between",mt:2,children:[Object(x.jsx)(I.a,{variant:"outlined",style:{maxWidth:50},label:"ID",onChange:function(e){p(Number(e.target.value))},value:b}),Object(x.jsx)(I.a,{variant:"outlined",style:{maxWidth:100},label:"Cost",onChange:function(e){F(e.target.value)},value:_}),Object(x.jsx)(l.a,{variant:"outlined",onClick:N,children:"Reprice"})]})]}):Object(x.jsx)(k.a,{maxWidth:"xs",style:{textAlign:"center"},children:Object(x.jsx)(y.a,{})})},ce=function(){var e=Object(r.useState)(!1),t=Object(g.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(g.a)(c,2),u=s[0],i=s[1],o=Object(r.useState)(""),j=Object(g.a)(o,2),l=j[0],b=j[1],p=function(){var e=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){p()}),[]);var d=function(){var e=Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Q(u);case 4:if(e.sent){e.next=8;break}return b("Something went wrong! Try again!"),e.abrupt("return");case 8:return e.next=10,R();case 10:if(e.sent){e.next=16;break}return b("Invalid Auth Token!"),e.abrupt("return");case 16:a(!0);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(x.jsx)(ae,{}):Object(x.jsx)(X,{token:u,message:l,handleTokenChange:function(e){i(e.target.value)},handleLogin:d})};n(112);s.a.render(Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(b.a,{children:[Object(x.jsx)(f,{}),Object(x.jsxs)(h.c,{children:[Object(x.jsx)(h.a,{exact:!0,path:"/",children:Object(x.jsx)(K,{})}),Object(x.jsx)(h.a,{exact:!0,path:"/admin",children:Object(x.jsx)(ce,{})})]})]})}),document.getElementById("root")),u()},92:function(e,t,n){var r={"./cola.png":[116,4],"./fizz.png":[117,5],"./mega_pop.png":[118,6],"./pop.png":[119,7]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(r)},a.id=92,e.exports=a}},[[113,1,2]]]);
//# sourceMappingURL=main.6e43ffe2.chunk.js.map